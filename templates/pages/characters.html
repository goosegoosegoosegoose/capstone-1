{% extends 'base.html' %}

{% block title %}Characters{% endblock %}

{% block content %}

<div id="loading"></div>

{% if chars[0] %}
<table class="table table-striped table-dark table-bordered table-hover">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Race</th>
      <th scope="col">Realm</th>
      <th scope="col">Like</th>
    </tr>
  </thead>
  <tbody id="chars-tbody">
    {% for char in chars %}
    <tr class ="char-list-item" id="{{char.id}}" style="cursor: pointer;">
      <td scope="col">{{char.name}}</td></col>
      <td scope="col">{{char.race}}</td></col>
      <td scope="col">
        {% if char.realm %}
        {{char.realm}}
        {% else %}
        NA
        {% endif %}
      </td>
      <td>
      {% if g.user in char.user %}
        {% if g.user.id == char.user[char.user.index(g.user)].id %}
        <form method="POST" action="/users/fav_char/{{char.id}}">
            <button class="btn btn-info">Unlike</button>
        </form>
        {% endif %}
      {% else %}
      <form method="POST" action="/users/fav_char/{{char.id}}">
          <button class="btn btn-outline-info">Like</button>
      </form>
      {% endif %}        
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endif %}


{% if movies[0] %}
{% if not chars[0] %}
<div class="content">
  <a href="/get-characters-quotes">
      <button type="button" class="btn btn-primary btn-lg" id="char-quote-btn">Get Other Stuff</button>
  </a>
</div>
{% endif %}
{% endif %}

{% endblock %}